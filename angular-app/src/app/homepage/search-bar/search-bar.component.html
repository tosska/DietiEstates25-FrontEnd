<form
  (ngSubmit)="handleSearch()"
  class="w-full max-w-6xl mx-auto bg-white dark:bg-gray-800 p-3 rounded-3xl shadow-2xl flex flex-col sm:flex-row items-center gap-4 transition-all duration-300 transform"
>
  <div class="relative w-full sm:flex-grow group">
    <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500 transition-colors duration-300 group-focus-within:text-[#4CAF50] dark:group-focus-within:text-[#66BB6A] pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
    </svg>
    <input
      type="text"
      autocomplete="off"
      placeholder="Dove vuoi cercare? (es. cittÃ , zona)"
      class="w-full rounded-full pl-12 pr-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-inner ring-1 ring-inset ring-transparent focus:ring-2 focus:ring-[#4CAF50] dark:focus:ring-[#66BB6A] placeholder:text-gray-500 dark:placeholder:text-gray-400 text-base font-medium transition duration-300 focus:bg-white dark:focus:bg-gray-600"
      name="searchQuery"
      (focus)="onFocus($event)"
      [(ngModel)]="searchQuery"
      (blur)="hideDropdownWithDelay()"
      (keyup)="onInput($event)"
    />
  </div>

  <div class="flex items-center gap-4 w-full sm:w-auto">
    <div class="relative w-full sm:w-48">
      <select
        class="w-full rounded-full px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-inner ring-1 ring-inset ring-transparent focus:ring-2 focus:ring-[#4CAF50] dark:focus:ring-[#66BB6A] text-sm font-medium transition duration-300 cursor-pointer appearance-none"
        style="background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22currentColor%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 1.5rem center; background-size: 1.2em;"
      >
        <option value="appartamento">Appartamento</option>
        <option value="villa">Villa</option>
        <option value="monolocale">Monolocale</option>
      </select>
    </div>

    <button type="button" (click)="openFilters()" class="w-full sm:w-auto flex items-center justify-center bg-transparent text-gray-700 dark:text-gray-300 font-semibold px-4 py-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 transition-all duration-300 shadow-md">
      <svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707v5.586a1 1 0 01-1.6.8L8 21V12.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/>
      </svg>
      <span class="hidden sm:block">Filtri</span>
    </button>

    <button type="submit" class="w-full sm:w-auto flex items-center justify-center bg-[#4CAF50] dark:bg-[#66BB6A] text-white font-bold px-6 py-3 rounded-full hover:bg-[#2E7D32] dark:hover:bg-[#388E3C] focus:outline-none focus:ring-2 focus:ring-[#2E7D32] dark:focus:ring-[#388E3C] transition duration-300 shadow-lg transform">
      <svg class="h-5 w-5 sm:mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"/>
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
      </svg>
      <span class="hidden sm:block">Cerca</span>
    </button>
  </div>
</form>