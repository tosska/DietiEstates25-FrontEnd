<div class="max-w-4xl mx-auto p-4 md:p-8 text-olive-900">
  
  <div class="mb-8">
    <h1 class="text-4xl font-extrabold tracking-tight text-olive-900">
      Le tue offerte
    </h1>
    <p class="mt-3 text-lg text-olive-900/60 font-medium">
      Qui sono elencati tutti gli annunci per i quali hai inviato un'offerta. 
      Tieni traccia delle tue proposte e dello stato della trattativa.
    </p>
  </div>

  <div class="flex p-1.5 bg-olive-100/50 rounded-2xl w-full lg:w-auto border border-olive-100 mb-8 max-w-md">
    <button (click)="setFilter('active')"
      [class]="activeFilter === 'active' ? 'bg-white text-olive-500 shadow-sm ring-1 ring-olive-100' : 'text-olive-900/60 hover:text-olive-900'"
      class="flex-1 px-6 py-2.5 text-sm font-bold rounded-xl transition-all duration-300">
      Attive
    </button>
    
    <button (click)="setFilter('closed')"
      [class]="activeFilter === 'closed' ? 'bg-white text-red-600 shadow-sm ring-1 ring-red-100' : 'text-olive-900/60 hover:text-red-600'"
      class="flex-1 px-6 py-2.5 text-sm font-bold rounded-xl transition-all duration-300">
      Chiuse / Concluse
    </button>
  </div>
  @if (listingsToShow && listingsToShow.length > 0) {
    
    <div class="space-y-6">
      
      @for (listing of listingsToShow; track listing.id) {

        @if(listing.isRead === false) {
          <app-listing-card 
            [listing]="listing"
            [buttonText]="'Vedi Offerte'"
            [extraMessage]="'Hai ricevuto una nuova risposta!'"
            (cardClick)="openTracking(listing.id)"> 
          </app-listing-card>

        } @else {
          <app-listing-card 
            [listing]="listing"
            [buttonText]="'Vedi Offerte'"
            (cardClick)="openTracking(listing.id)"> 
          </app-listing-card> 
        }
      
      }

    </div>
  } @else {
    
    <div class="w-full text-center p-12 bg-white rounded-3xl border-2 border-dashed border-olive-200 shadow-sm">
      
      <div class="w-20 h-20 bg-olive-50 rounded-full flex items-center justify-center mx-auto mb-4 text-olive-400">
        <svg class="w-10 h-10" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-10.5c-.621 0-1.125-.504-1.125-1.125v-11.25c0-.621.504-1.125 1.125-1.125H12z" />
        </svg>
      </div>
      
      <h3 class="mt-4 text-xl font-bold text-olive-900">
        Nessuna offerta trovata
      </h3>
      <p class="mt-2 text-olive-900/60 font-medium">
        @if (activeFilter === 'active') {
            Non hai offerte attive al momento.
        } @else {
            Non hai trattative chiuse o concluse.
        }
      </p>
      
      @if (activeFilter === 'active') {
        <div class="mt-8">
            <a routerLink="/homepage" 
            class="inline-flex items-center bg-olive-500 text-white font-bold 
                    py-3 px-6 rounded-2xl shadow-lg shadow-olive-200 hover:bg-olive-400 
                    transition-all duration-200 transform active:scale-95 hover:-translate-y-0.5">
            Cerca annunci
            </a>
        </div>
      }
    </div>
  }

</div>