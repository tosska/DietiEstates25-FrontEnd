<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold text-[#1B1B1B] dark:text-[#A5D6A7] mb-4">Area Riservata</h1>

  @if (errorMessage) {
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4" role="alert">
      {{ errorMessage }}
    </div>
  }

  <div class="bg-white dark:bg-[#121212] p-6 rounded-lg shadow-md">
    @if (!isEditing) {
      <div class="space-y-4">
        <p><strong>Nome:</strong> {{ userProfileForm.get('name')?.value || 'Non specificato' }}</p>
        <p><strong>Cognome:</strong> {{ userProfileForm.get('surname')?.value || 'Non specificato' }}</p>
        <p><strong>Telefono:</strong> {{ userProfileForm.get('phone')?.value || 'Non specificato' }}</p>
        <button (click)="toggleEdit()" class="bg-[#4CAF50] text-white px-4 py-2 rounded hover:bg-[#45a049] dark:bg-[#66BB6A] dark:hover:bg-[#4CAF50] mt-4">Modifica Profilo</button>
        <button (click)="deleteProfile()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-4 ml-2">Elimina Profilo</button>
        <button (click)="logout()" class="bg-[#8BC34A] text-white px-4 py-2 rounded hover:bg-[#A5D6A7] mt-4 ml-2">Logout</button>
      </div>
    } @else {
      <form [formGroup]="userProfileForm" (ngSubmit)="saveProfile()" class="space-y-4">
        <div>
          <label for="name" class="block text-sm font-medium text-[#1B1B1B] dark:text-[#F1F1F1]">Nome</label>
          <input id="name" formControlName="name" type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm dark:bg-[#2E2E2E] dark:border-gray-600 dark:text-white">
        </div>
        <div>
          <label for="surname" class="block text-sm font-medium text-[#1B1B1B] dark:text-[#F1F1F1]">Cognome</label>
          <input id="surname" formControlName="surname" type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm dark:bg-[#2E2E2E] dark:border-gray-600 dark:text-white">
        </div>
        <div>
          <label for="phone" class="block text-sm font-medium text-[#1B1B1B] dark:text-[#F1F1F1]">Telefono</label>
          <input id="phone" formControlName="phone" type="tel" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm dark:bg-[#2E2E2E] dark:border-gray-600 dark:text-white">
        </div>
        <div>
          <button type="submit" [disabled]="userProfileForm.invalid" class="bg-[#4CAF50] text-white px-4 py-2 rounded hover:bg-[#45a049] dark:bg-[#66BB6A] dark:hover:bg-[#4CAF50]">Salva</button>
          <button (click)="toggleEdit()" type="button" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 mt-2 ml-2">Annulla</button>
          <button (click)="deleteProfile()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2 ml-2">Elimina Profilo</button>
          <button (click)="logout()" class="bg-[#8BC34A] text-white px-4 py-2 rounded hover:bg-[#A5D6A7] mt-2 ml-2">Logout</button>
        </div>
      </form>
    }
  </div>
</div>